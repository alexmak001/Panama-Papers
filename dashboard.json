{
  "title": "Financial Crimes Enforcement Dashboard üïµÔ∏è",
  "version": "2.0",
  "settings": {
    "pagenumber": 0,
    "editable": true,
    "parameters": {
      "neodash_entity_name": null,
      "neodash_country_name": null,
      "neodash_name": " "
    },
    "fullscreenEnabled": true
  },
  "pages": [
    {
      "title": "Countries",
      "reports": [
        {
          "title": "Bearer as officer's name",
          "query": "MATCH (o:Officer)\nWHERE o.name CONTAINS \"THE BEARER\" AND o.sourceID = \"Panama Papers\"\nRETURN o\nLIMIT 100\n\n\n",
          "width": "6",
          "type": "graph",
          "height": "3",
          "selection": {
            "Officer": "name"
          },
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "schema",
          "query": "CALL db.schema.visualization()\n\n\n",
          "width": "8",
          "type": "graph",
          "height": "3",
          "selection": {
            "Entity": "name",
            "Intermediary": "name",
            "Address": "name",
            "Officer": "name",
            "Other": "name"
          },
          "settings": {
            "nodePositions": {}
          }
        },
        {
          "title": "Nodes based on a person's name",
          "query": "MATCH (o:Officer)\nWHERE o.name CONTAINS $neodash_name AND o.sourceID = \"Panama Papers\"\nRETURN o\nLIMIT 10\n\n",
          "width": "8",
          "type": "graph",
          "height": "3",
          "selection": {
            "Officer": "name"
          },
          "settings": {
            "nodePositions": {}
          },
          "parameters": ""
        },
        {
          "title": "",
          "query": "RETURN true",
          "width": 3,
          "type": "select",
          "height": 3,
          "selection": {},
          "settings": {
            "nodePositions": {},
            "type": "Free Text",
            "entityType": "name",
            "parameterName": "neodash_name",
            "helperText": "Input Name",
            "manualPropertyNameSpecification": true
          }
        }
      ]
    },
    {
      "title": "Entities",
      "reports": [
        {
          "title": "Entity Investigator üîé",
          "query": "You can use this page to explore information about a single entity in the dataset. All reports are automatically updated based on the selected entity.\n\n**Hint**: Try typing **ING Bank NV** \nin the \"Entity name\" box to the right of this text.\n\n\n",
          "width": 3,
          "type": "text",
          "height": 3,
          "selection": {},
          "settings": {}
        },
        {
          "title": "Select an entity to view reports",
          "query": "MATCH (n:`Entity`) \nWHERE toLower(toString(n.`name`)) CONTAINS toLower($input) \nRETURN DISTINCT n.`name` as value LIMIT 5",
          "width": 3,
          "type": "select",
          "height": 3,
          "selection": {},
          "settings": {
            "type": "Node Property",
            "entityType": "Entity",
            "propertyType": "name",
            "parameterName": "neodash_entity_name"
          }
        },
        {
          "title": "Details ",
          "query": "MATCH (e:Entity)\nWHERE e.name = $neodash_entity_name\nWITH e LIMIT 1\nMATCH (c:Country)--(e)--(f:Filing)\nWITH [\"Entity full name: \" + e.name, \n      \"Country of origin: \"+c.name,  \n      \"Total filings: $\"+ toInteger(sum(f.amount)/1000000) + \" million\",\n      \"Start of operations: \"+ toString(date((min(f.begin))))\n] as data\nUNWIND data as Information\nRETURN Information\n",
          "width": "3",
          "type": "table",
          "height": "3",
          "selection": {},
          "settings": {}
        },
        {
          "title": "Entity interactions",
          "query": "MATCH path=(e:Entity)<--()-->(e2:Entity)\nWHERE e.name = $neodash_entity_name\nWITH DISTINCT e, e2\nRETURN e, e2, apoc.create.vRelationship(e, \"INTERACTS\", {}, e2) \n\n\n",
          "width": 3,
          "type": "map",
          "height": 3,
          "selection": {
            "Entity": "(no label)"
          },
          "settings": {
            "hideSelections": true
          }
        },
        {
          "title": "Who receives most money from this entity?",
          "query": "MATCH path=(e:Entity)<--(f:Filing)-->(e2:Entity)\nWHERE e.name = $neodash_entity_name\nWITH DISTINCT e, f, e2\nRETURN e2.name as `Other`, sum(f.amount) as Amount\nORDER BY Amount ASC",
          "width": "6",
          "type": "bar",
          "height": "3",
          "selection": {
            "index": "Other",
            "value": "Amount",
            "key": "(none)"
          },
          "settings": {
            "valueScale": "linear",
            "marginLeft": 90,
            "marginBottom": 100,
            "marginRight": 50,
            "colors": "paired",
            "groupMode": "grouped"
          }
        },
        {
          "title": "Details on a filing by the entity",
          "query": "MATCH path=(e:Entity)<--(f:Filing)\nWHERE e.name = $neodash_entity_name\nRETURN f LIMIT 1\n",
          "width": 3,
          "type": "json",
          "height": 3,
          "selection": {},
          "settings": {}
        },
        {
          "title": "Number of Filings",
          "query": "MATCH (e:Entity)--(:Filing)\nWHERE e.name = $neodash_entity_name\nRETURN COUNT(*)\n\n",
          "width": 3,
          "type": "value",
          "height": 3,
          "selection": {},
          "settings": {
            "fontSize": 80
          }
        }
      ]
    },
    {
      "title": "Statistics",
      "reports": [
        {
          "title": "Total number of nodes",
          "query": "MATCH (n)\nRETURN COUNT(n)",
          "width": 3,
          "type": "value",
          "height": 3,
          "selection": {},
          "settings": {
            "textAlign": "center",
            "fontSize": 80,
            "marginTop": 50
          }
        },
        {
          "title": "Total number of relationships",
          "query": "MATCH (n)-[e]->(m)\nRETURN COUNT(e)\n\n\n",
          "width": 3,
          "type": "value",
          "height": 3,
          "selection": {},
          "settings": {
            "fontSize": 80,
            "marginTop": 50,
            "textAlign": "center"
          }
        },
        {
          "title": "Number of nodes by label",
          "query": "MATCH (n)\nRETURN labels(n), count(*) as count\nORDER BY count ASC\n\n\n",
          "width": 3,
          "type": "pie",
          "height": 3,
          "selection": {
            "index": "labels(n)",
            "value": "count",
            "key": "(none)"
          },
          "settings": {
            "colors": "pastel1",
            "marginBottom": 60
          }
        },
        {
          "title": "Number of relationship types",
          "query": "MATCH (n)-[e]->(m)\nRETURN type(e),count(*) as count\nORDER BY count ASC\n\n\n\n\n\n\n",
          "width": 3,
          "type": "pie",
          "height": 3,
          "selection": {
            "index": "type(e)",
            "value": "count",
            "key": "(none)"
          },
          "settings": {
            "colors": "pastel1",
            "marginBottom": 60,
            "marginLeft": 120,
            "marginRight": 120
          }
        },
        {
          "title": "Number of filing per year",
          "query": "MATCH (f:Filing)\nWHERE f.begin IS NOT NULL\nWITH f, date(f.begin).year as Year\nRETURN Year, COUNT(f) as Total\nORDER BY Year ASC\n",
          "width": "6",
          "type": "line",
          "height": "3",
          "selection": {
            "x": "Year",
            "value": [
              "Total"
            ]
          },
          "settings": {
            "marginLeft": 60
          }
        },
        {
          "title": "Example: using iFrames to embed custom visualizations (3D graph)",
          "query": "https://vasturiano.github.io/react-force-graph/example/basic/",
          "width": "6",
          "type": "iframe",
          "height": "3",
          "selection": {},
          "settings": {}
        }
      ]
    }
  ]
}